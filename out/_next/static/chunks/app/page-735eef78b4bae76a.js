(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8488:(e,s,t)=>{Promise.resolve().then(t.bind(t,8863))},8863:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});var a=t(5155),n=t(2115);let i=(0,t(5647).UU)("https://qqdczxnyellgapfwczhs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFxZGN6eG55ZWxsZ2FwZndjemhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwNTY5ODEsImV4cCI6MjA2ODYzMjk4MX0.yHmaptXNK_N6G1Ja7NASD-1jM-RXzC4JOKIN7XS3wI8"),l=async()=>{let{data:e,error:s}=await i.from("todo").select("*");return s||!e?[]:e},o=async e=>{await i.from("todo").insert({title:e})},d=async e=>{await i.from("todo").delete().eq("id",e)},c=e=>{let{todos:s,setTodos:t}=e,n=async e=>{await d(e),t(await l())};return(0,a.jsx)("div",{children:(0,a.jsx)("ul",{children:s.map(e=>(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex bg-orange-200 rounded-md mt-2 mb-2 p-2 justify-between",children:[(0,a.jsx)("span",{className:"font-medium",children:e.title}),(0,a.jsx)("span",{className:"cursor-progress",onClick:()=>n(e.id),children:"X"})]})},e.id))})})},r=()=>{let[e,s]=(0,n.useState)([]),[t,i]=(0,n.useState)("");(0,n.useEffect)(()=>{(async()=>{let e=await l();console.log(e),s(e)})()},[]);let d=async e=>{e.preventDefault(),console.log("Add Btn"),""!==t&&(await o(t),s(await l()),i(""))};return(0,a.jsxs)("section",{className:"text-center mb-2 text-2xl font-medium bg-white",children:[(0,a.jsx)("h3",{children:"spabase todo app"}),(0,a.jsxs)("form",{action:"",onSubmit:e=>{d(e)},children:[(0,a.jsx)("input",{type:"text",className:"shadow-lg p-1 mr-2 outline-none bg-amber-100",onChange:e=>i(e.target.value),value:t}),(0,a.jsx)("button",{className:"shadow-md border-none px-1 py-1  rounded-lg bg-green-200",children:"Add"})]}),(0,a.jsx)(c,{todos:e,setTodos:s})]})}}},e=>{e.O(0,[647,441,964,358],()=>e(e.s=8488)),_N_E=e.O()}]);